{% load staticfiles %}
{% load humanize %}
{% load revolv_cms_tags %}

<div class="large-12 columns">
    <div class="row statistics-container">
        <div class="row">
            <p class="contribution-text">{{ settings.revolv_cms.DashboardImpactSettings.impact_statistics_header_text }}</p>
        </div>
        <div class="row statistics-row">
            <div class="medium-6 columns statistic col-1">
                <div class="medium-4 small-5 columns icon-container">
                    <img class="icon trees-icon" src="{% static "images/trees.svg" %}" />
                </div>
                <div class="medium-8 small-7 text-area columns">
                    <div class="text-container trees">
                        <p class="top-description description">{{ settings.revolv_cms.DashboardImpactSettings.trees_saved_statistic_top_description_text }}</p>
                        <p class="emphasized-text trees">{{ statistics.trees|floatformat:2 }} tree{{ statistics.trees|pluralize }}</p>
                        <p class="bottom-description description">{{ settings.revolv_cms.DashboardImpactSettings.trees_saved_statistic_bottom_description_text }}</p>
                    </div>
                </div>
            </div>
            <div class="medium-6 columns statistic col-2">
                <div class="medium-4 small-5 columns icon-container">
                    <img class="icon kwh-icon" src="{% static "images/lightbulb.svg" %}" />
                </div>
                <div class="medium-8 small-7 text-area columns">
                    <div class="text-container kwh">
                        <p class="top-description description">{{ settings.revolv_cms.DashboardImpactSettings.kwh_statistic_top_description_text }}</p>
                        <p class="emphasized-text kwh">{{ statistics.kwh|floatformat:0 }} kwH</p>
                        <p class="bottom-description description">{{ settings.revolv_cms.DashboardImpactSettings.kwh_statistic_bottom_description_text }}</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row statistics-row">
            <div class="medium-6 columns statistic col-1">
                <div class="medium-4 small-5 columns icon-container">
                    <img class="icon repayments-icon" src="{% static "images/coin.svg" %}" />
                </div>
                <div class="medium-8 small-7 text-area columns">
                    <div class="text-container repayments">
                        <p class="top-description description">{{ settings.revolv_cms.DashboardImpactSettings.repayment_statistic_top_description_text }}</p>
                        <p class="emphasized-text repayments">${{ statistics.repayments|floatformat:2|intcomma }}</p>
                        <p class="bottom-description description">{{ settings.revolv_cms.DashboardImpactSettings.repayment_statistic_bottom_description_text }}</p>
                    </div>
                </div>
            </div>
            <div class="medium-6 columns statistic col-2">
                <div class="medium-4 small-5 columns icon-container">
                    <img class="icon projects-donated-to-icon" src="{% static "images/house.svg" %}" />
                </div>
                <div class="medium-8 small-7 text-area columns">
                    <div class="text-container number-of-projects">
                        <p class="top-description description">{{ settings.revolv_cms.DashboardImpactSettings.project_count_statistic_top_description_text }}</p>
                        <p class="emphasized-text number-of-projects">{{ statistics.project_count }} project{{ statistics.project_count|pluralize }}</p>
                        <p class="bottom-description description">{{ settings.revolv_cms.DashboardImpactSettings.project_count_statistic_bottom_description_text }}</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row statistics-row">
            <div class="medium-6 columns statistic col-1">
                <div class="medium-4 small-5 columns icon-container">
                    <img class="icon cloud-icon" src="{% static "images/cloud.svg" %}" />
                </div>
                <div class="medium-8 small-7 text-area columns">
                    <div class="text-container co2">
                        <p class="top-description description">{{ settings.revolv_cms.DashboardImpactSettings.carbon_dioxide_statistic_top_description_text }}</p>
                        <p class="emphasized-text co2">{{ statistics.carbon_dioxide|floatformat:2 }} lb{{ statistics.carbon_dioxide|pluralize }}</p>
                        <p class="bottom-description description">{{ settings.revolv_cms.DashboardImpactSettings.carbon_dioxide_statistic_bottom_description_text }}</p>
                    </div>
                </div>
            </div>
            <div class="medium-6 columns statistic col-2">
                <div class="medium-4 small-5 columns icon-container">
                    <img class="icon last-icon" src="{% static "images/revolv-man.svg" %}" />
                </div>
                <div class="medium-8 small-7 text-area columns">
                    <div class="text-container save-world">
                        <p class="description last-icon">{{ settings.revolv_cms.DashboardImpactSettings.last_statistic_description_text }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row my-projects-container">
        <p class="my-projects-header">My projects</p>
        {% if donated_projects %}
            {% for project in donated_projects %}
                <div class="project-row row">
                    <div class="medium-9 small-7 columns">
                        <a href="{% url "project:view" pk=project.pk %}"><p class="project-title">{{ project.title }}</p></a>
                    </div>
                    <div class="medium-3 small-5 columns">
                        <p class="project-status {% if project.is_active %}active{% endif %}">{{ project.get_project_status_display }}</p>
                    </div>
                </div>
            {% endfor %}
        {% endif %}
    </div>
</div>
